kubectl cluster-info
kubectl config current-context
kubectl config get-contexts
kubectl config use-context <context-name>
k3d cluster list
k3d cluster create express-cluster
kubectl create deployment hashgenerator-dep --image=jakousa/dwk-app1
kubectl get deployments
kubectl get pods
kubectl logs -f express-todo-app-dep-6f8858c7fb-nn7q2
kubectl scale deployment/hashgenerator-dep --replicas=4
kubectl set image deployment/hashgenerator-dep dwk-app1=jakousa/dwk-
kubectl delete deployment hashgenerator-dep
kubectl apply -f manifests/deployment.yaml
kubectl delete -f manifests/deployment.yaml
kubectl describe deployment hashgenerator-dep
kubectl config view --minify --raw
kubectl get events
kubectl port-forward hashresponse-dep-57bcc888d7-dj5vk 3003:3000
kubectl apply -f manifests/service.yaml
k3d cluster create --port 8082:30080@agent:0 -p 8081:80@loadbalancer --agents 2
kubectl get pods -n kube-system
kubectl get svc -A
kubectl config set-context --current --namespace=<name>
kubectl delete all --all -n namespace

Kubectx -- for context switching
kubens -- for switching namespaces

-- Debugging commands --
kubectl get pods -o wide           
kubectl describe svc todo-app-svc
kubectl logs <pod-name>
kubectl get pvc
kubectl describe pvc shared-pvc
kubectl logs backend-76b9697f85-n8tpr
kubectl run backend-debug --rm -it --image=shehzadkhuwaja/todoapp:latest -- sh
kubectl run -it --rm --restart=Never --image postgres psql-for-debugging sh
kubectl describe statefulset postgres-statefulset -n exercises
kubectl rollout restart deployment ping-pong-dep -n exercises

-- debugging jobs
kubectl get pods -n project --selector=job-name=wikipedia-todo-generator-2898d
kubectl get jobs -n project


-- To push your docker image to docker hub --
docker tag express-server:local yourusername/express-server:latest
docker push shehzadkhuwaja/express-server:latest

-- Commands for encryption and decryption
age-keygen -o key.txt
sops --encrypt \
       --age age17mgq9ygh23q0cr00mjn0dfn8msak0apdy0ymjv5k50qzy75zmfkqzjdam4 \
       --encrypted-regex '^(data)$' \
       secret.yaml > secret.enc.yaml
export SOPS_AGE_KEY_FILE=$(pwd)/key.txt
sops --decrypt secret.enc.yaml > secret.yaml
sops --decrypt secret.enc.yaml | kubectl apply -f -


-- Testing db connection
kubectl run -it --rm --restart=Never --image postgres psql-for-debugging sh
  $ psql postgres://yourpostgresurlhere
  psql (16.2 (Debian 16.2-1.pgdg120+2))
  Type "help" for help.
  postgres=# \d
  Did not find any relations.
